{% extends "base.html" %}

{% block page_content %}
<h1 class="mb-4">Cursos para el enriquecimiento cultural</h1>
<form method="GET" action="{% url 'curso_index' %}" class="mb-4">
    <div class="input-group">
        <input type="text" name="q" class="form-control" placeholder="Buscar cursos por nombre" value="{{ query }}">
        <button type="submit" class="btn btn-primary">Buscar</button>
    </div>
</form>

<p>¡Descubre el mundo de las artes! 🎨🎭🎶 Nuestros cursos culturales son una ventana a la creatividad, la expresión y el bienestar mental. 🌟 Aprende a pintar, bailar, tocar un instrumento o actuar en el escenario. 🌈 Conéctate con otros amantes del arte y libera el estrés mientras desarrollas tus habilidades. ¡Inscríbete hoy y despierta tu lado más creativo!</p>
<div class="row">
{% for Curso in Cursos %}
    <div class="col-md-4">
        <div class="card h-100 shadow-sm">
            {% if Curso.image %}
                <img class="card-img-top" src="{{ Curso.image.url }}" alt="Imagen del curso" style="height: 200px; object-fit: cover;" overflow = "hidden">
            {% endif %}
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ Curso.nombre }}</h5>
                <p class="card-text">{{ Curso.descripcion|truncatewords:20 }}</p>
                <p class="card-text">
                    <strong>Categorías:</strong>
                    <br>
                    {% for categoria in Curso.categorias.all %}
                        <span class="badge bg-secondary">{{ categoria.nombre }}</span>  
                    {% endfor %}
                </p>
                <div class="mt-auto">
                    <a href="{% url 'curso_detail' Curso.pk %}"
                    class="btn btn-primary btn-block">
                    Leer Más
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
